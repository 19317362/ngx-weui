<span class="hljs-keyword">import</span> { Component, ViewEncapsulation, ViewChild } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;

<span class="hljs-keyword">import</span> { ToastComponent, ToastService } <span class="hljs-keyword">from</span> <span class="hljs-string">"ngx-weui/toast"</span>;

<span class="hljs-meta">@Component</span>({
    selector: <span class="hljs-string">'example-toast'</span>,
    templateUrl: <span class="hljs-string">'./toast.component.html'</span>,
    styleUrls: [ <span class="hljs-string">'./toast.component.scss'</span> ],
    encapsulation: ViewEncapsulation.None
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> DemoToastComponent {

    <span class="hljs-meta">@ViewChild</span>(<span class="hljs-string">'success'</span>) successToast: ToastComponent;
    <span class="hljs-meta">@ViewChild</span>(<span class="hljs-string">'loading'</span>) loadingToast: ToastComponent;
    <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> srv: ToastService</span>) { }

    onShow(<span class="hljs-keyword">type</span>: <span class="hljs-string">'success'</span> | <span class="hljs-string">'loading'</span>) {
        (&lt;ToastComponent&gt;<span class="hljs-keyword">this</span>[<span class="hljs-string">`<span class="hljs-subst">${type}</span>Toast`</span>]).onShow();
    }

    onShowBySrv(<span class="hljs-keyword">type</span>: <span class="hljs-string">'success'</span> | <span class="hljs-string">'loading'</span>, forceHide: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">this</span>.srv[<span class="hljs-keyword">type</span>]();
        <span class="hljs-keyword">if</span> (forceHide === <span class="hljs-literal">true</span>) {
            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                <span class="hljs-keyword">this</span>.srv.hide();
            }, <span class="hljs-number">1000</span>)
        }
    }

}
