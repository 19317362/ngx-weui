<span class="hljs-keyword">import</span> { Component, ViewEncapsulation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { TaobaoService } <span class="hljs-keyword">from</span> <span class="hljs-string">"./tb.service"</span>;
<span class="hljs-keyword">import</span> { Observable } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs/Rx'</span>;

<span class="hljs-meta">@Component</span>({
    selector: <span class="hljs-string">'example-searchbar'</span>,
    templateUrl: <span class="hljs-string">'./searchbar.component.html'</span>,
    styleUrls: [<span class="hljs-string">'./searchbar.component.scss'</span>],
    encapsulation: ViewEncapsulation.None,
    providers: [ TaobaoService ]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> DemoSearchBarComponent {

    items: Observable&lt;<span class="hljs-built_in">string</span>[]&gt;;
    value: <span class="hljs-built_in">string</span>;
    <span class="hljs-keyword">constructor</span> (<span class="hljs-params"><span class="hljs-keyword">private</span> tbService: TaobaoService</span>) { }

    onSearch(term: <span class="hljs-built_in">string</span>) {
        <span class="hljs-keyword">this</span>.value = term;
        <span class="hljs-keyword">if</span> (term) <span class="hljs-keyword">this</span>.items = <span class="hljs-keyword">this</span>.tbService.search(term);
    }

    onCancel() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onCancel'</span>)
    }

    onClear() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onCancel'</span>)
    }

    onSubmit(value: <span class="hljs-built_in">string</span>) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onSubmit'</span>, value);
    }
} 
